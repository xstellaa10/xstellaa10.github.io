<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AC Elite | Assetto Corsa Simracing Community</title>
  <meta name="description" content="AC Elite is an Assetto Corsa simracing community running a weekly track-rotation server in the Tatuus FA01, with voting on Discord and Top 10 leaderboards for every track." />
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<body class="bg-slate-950 text-slate-100 font-sans">
  <header class="relative overflow-hidden bg-gradient-to-br from-slate-900 via-slate-950 to-black border-b border-slate-800">
    <div class="absolute inset-0 pointer-events-none opacity-40" aria-hidden="true">
      <div class="absolute -left-32 -top-32 h-72 w-72 rounded-full bg-blue-500/20 blur-3xl"></div>
      <div class="absolute -right-32 top-32 h-72 w-72 rounded-full bg-amber-500/20 blur-3xl"></div>
    </div>
    <div class="relative mx-auto max-w-6xl px-4 py-6 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="h-11 w-11 flex items-center justify-center rounded-lg bg-slate-900/80 border border-amber-400/70 shadow-[0_0_25px_rgba(251,191,36,0.6)]">
          <span class="text-xl font-black tracking-tight text-blue-300">AC</span>
        </div>
        <div>
          <h1 class="text-2xl md:text-3xl font-black tracking-tight uppercase">
            <span class="text-slate-50">AC</span>
            <span class="text-amber-400"> Elite</span>
          </h1>
          <p class="text-xs md:text-sm text-slate-400 uppercase tracking-[0.2em]">Assetto Corsa · Track Rotation League</p>
        </div>
      </div>
      <nav class="hidden md:flex items-center gap-6 text-sm font-medium text-slate-200">
        <a href="#about" class="hover:text-amber-300 transition-colors">About</a>
        <a href="#format" class="hover:text-amber-300 transition-colors">Race Format</a>
        <a href="#leaderboard" class="hover:text-amber-300 transition-colors">Leaderboards</a>
        <a href="#join" class="inline-flex items-center gap-2 rounded-full border border-amber-400/70 bg-amber-500/10 px-4 py-1.5 text-xs font-semibold uppercase tracking-[0.2em] text-amber-200 hover:bg-amber-500/20 transition-colors">
          Join Discord
          <span class="inline-block h-1 w-1 rounded-full bg-amber-300"></span>
        </a>
      </nav>
    </div>

    <section class="relative mx-auto max-w-6xl px-4 pb-12 pt-2 grid gap-10 md:grid-cols-[minmax(0,3fr)_minmax(0,2.5fr)] items-center">
      <div class="space-y-6">
        <p class="inline-flex items-center gap-2 rounded-full border border-emerald-400/40 bg-emerald-500/10 px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.2em] text-emerald-200">
          Weekly Track Rotation · Tatuus FA01 Only
        </p>
        <h2 class="text-3xl md:text-4xl lg:text-5xl font-black tracking-tight leading-tight">
          Community-driven
          <span class="text-cyan-400"> Assetto Corsa</span>
          racing — one car, new track every week.
        </h2>
        <p class="text-sm md:text-base text-slate-300 max-w-xl">
          AC Elite is a clean, fast-paced simracing community focused on the
          Tatuus FA01. Vote each week on Discord for the next circuit, jump on
          the rotation server, and chase the Top 10 on every track we race.
        </p>
        <div class="flex flex-wrap gap-3 items-center">
          <a href="#join" class="inline-flex items-center justify-center rounded-lg bg-cyan-500 px-4 py-2 text-sm font-semibold text-slate-950 shadow-lg shadow-cyan-500/40 hover:bg-cyan-400 transition-colors">
            Join the Grid
          </a>
          <a href="#leaderboard" class="inline-flex items-center justify-center rounded-lg border border-slate-700 px-4 py-2 text-sm font-semibold text-slate-100 hover:bg-slate-900/80 transition-colors">
            View Track Leaderboards
          </a>
        </div>
        <dl class="grid grid-cols-3 gap-4 max-w-md text-xs md:text-sm">
          <div>
            <dt class="text-slate-400">Car</dt>
            <dd class="font-semibold text-slate-100">Tatuus FA01</dd>
          </div>
          <div>
            <dt class="text-slate-400">Schedule</dt>
            <dd class="font-semibold text-slate-100">Weekly rotation</dd>
          </div>
          <div>
            <dt class="text-slate-400">Platform</dt>
            <dd class="font-semibold text-slate-100">Assetto Corsa (PC)</dd>
          </div>
        </dl>
      </div>

      <div class="relative">
        <div class="absolute inset-0 rounded-3xl bg-gradient-to-br from-cyan-500/30 via-slate-900 to-emerald-500/20 opacity-60 blur-3xl" aria-hidden="true"></div>
        <div class="relative rounded-3xl border border-slate-700/70 bg-slate-900/80 p-4 shadow-[0_0_35px_rgba(15,23,42,0.9)]">
          <div class="flex items-center justify-between mb-3">
            <div class="flex items-center gap-2 text-xs text-slate-300">
              <span class="inline-flex h-6 w-6 items-center justify-center rounded bg-slate-800 text-[11px] font-bold text-cyan-300">FA</span>
              <span>Tatuus FA01 · Server Status</span>
            </div>
            <span id="server-status-pill" class="inline-flex items-center gap-1 rounded-full bg-emerald-500/15 px-2 py-0.5 text-[11px] font-semibold text-emerald-300 border border-emerald-400/50">
              <span class="h-1.5 w-1.5 rounded-full bg-emerald-400 animate-pulse"></span>
              Live
            </span>
          </div>

          <div class="relative overflow-hidden rounded-2xl border border-slate-700 bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950">
            <div class="absolute inset-0 opacity-60 bg-[radial-gradient(circle_at_20%_0,rgba(56,189,248,0.3),transparent_55%),radial-gradient(circle_at_80%_100%,rgba(244,63,94,0.25),transparent_55%)]" aria-hidden="true"></div>
            <div class="relative p-4 space-y-3">
              <div class="flex items-center justify-between text-[11px] text-slate-300">
                <div class="space-y-0.5">
                  <div class="font-semibold uppercase tracking-[0.25em] text-xs text-slate-400">This Week</div>
                  <div id="current-track" class="text-base font-semibold text-slate-50">Imola</div>
                  <div id="current-layout" class="text-[11px] text-slate-400">Autodromo Enzo e Dino Ferrari</div>
                </div>
                <div class="text-right">
                  <div class="text-[11px] uppercase tracking-[0.2em] text-slate-400">Next Vote</div>
                  <div id="next-vote-countdown" class="text-sm font-semibold text-cyan-300">Sun · 20:00 CET</div>
                  <div class="mt-1 inline-flex items-center gap-1 rounded-full bg-slate-900/80 px-2 py-0.5 text-[10px] text-slate-300">
                    <span class="inline-block h-1.5 w-1.5 rounded-full bg-cyan-400"></span>
                    Discord Poll
                  </div>
                </div>
              </div>

              <div class="border-t border-slate-800 pt-3 flex flex-col gap-3">
                <div class="flex items-center gap-3 text-[11px] text-slate-300">
                  <div class="flex-1">
                    <div class="flex justify-between mb-1">
                      <span>Server Activity</span>
                      <span id="server-population-label" class="font-semibold text-cyan-300">High</span>
                    </div>
                    <div class="h-1.5 w-full rounded-full bg-slate-800 overflow-hidden">
                      <div id="server-population-bar" class="h-1.5 rounded-full bg-gradient-to-r from-emerald-400 via-cyan-400 to-rose-400" style="width: 78%;"></div>
                    </div>
                  </div>
                  <div class="w-px h-8 bg-slate-800"></div>
                  <div class="flex flex-col items-end gap-0.5 text-[11px]">
                    <span class="text-slate-400">Online</span>
                    <span id="server-online-count" class="font-semibold text-slate-50">18/24</span>
                    <span class="text-[10px] text-slate-500">EU · MR A/B</span>
                  </div>
                </div>

                <div class="grid grid-cols-3 gap-2 text-[11px]">
                  <div class="rounded-lg border border-slate-800 bg-slate-950/80 p-2">
                    <div class="text-slate-400">Conditions</div>
                    <div id="server-conditions" class="font-semibold text-slate-100">Clear · 19:00</div>
                  </div>
                  <div class="rounded-lg border border-slate-800 bg-slate-950/80 p-2">
                    <div class="text-slate-400">Best Lap</div>
                    <div id="server-best-lap" class="font-semibold text-emerald-300">1:39.842</div>
                  </div>
                  <div class="rounded-lg border border-slate-800 bg-slate-950/80 p-2">
                    <div class="text-slate-400">Record Holder</div>
                    <div id="server-best-driver" class="font-semibold text-slate-100 truncate">AC_Storm</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>
  </header>

  <main class="mx-auto max-w-6xl px-4 py-10 space-y-16">
    <section id="about" class="grid gap-10 md:grid-cols-[minmax(0,3fr)_minmax(0,2fr)] items-start">
      <div class="space-y-4">
        <h2 class="text-2xl md:text-3xl font-bold tracking-tight">What is AC Elite?</h2>
        <p class="text-sm md:text-base text-slate-300">
          AC Elite is a community for drivers who love close, consistent, open-wheel
          racing in <span class="font-semibold text-slate-100">Assetto Corsa</span>.
          Instead of constantly changing cars and rules, we keep one constant:
          the <span class="text-cyan-300 font-semibold">Tatuus FA01</span>.
        </p>
        <p class="text-sm md:text-base text-slate-300">
          Every week, the community votes on the next track in a Discord poll.
          The winning track becomes the focus for the week on our rotation
          server, complete with a permanent <span class="font-semibold">Top 10
          leaderboard</span> that stays in our history.
        </p>
        <div class="grid gap-4 sm:grid-cols-3 text-xs md:text-sm">
          <div class="rounded-xl border border-slate-800 bg-slate-900/70 p-4">
            <div class="text-slate-400 mb-1">Driving Style</div>
            <div class="font-semibold text-slate-100">Clean & competitive</div>
            <p class="mt-1 text-slate-400">Blue flags, racecraft, and respect first.</p>
          </div>
          <div class="rounded-xl border border-slate-800 bg-slate-900/70 p-4">
            <div class="text-slate-400 mb-1">Region</div>
            <div class="font-semibold text-slate-100">EU-focused</div>
            <p class="mt-1 text-slate-400">Server located in Europe with global drivers.</p>
          </div>
          <div class="rounded-xl border border-slate-800 bg-slate-900/70 p-4">
            <div class="text-slate-400 mb-1">Skill Level</div>
            <div class="font-semibold text-slate-100">From rookie to alien</div>
            <p class="mt-1 text-slate-400">If you race fair, you fit in.</p>
          </div>
        </div>
      </div>

      <div class="rounded-2xl border border-slate-800 bg-slate-900/70 p-4 md:p-5 space-y-4">
        <h3 class="text-sm font-semibold text-slate-200 flex items-center gap-2">
          <span class="inline-flex h-6 w-6 items-center justify-center rounded bg-slate-800 text-[11px] font-bold text-cyan-300">FA</span>
          Tatuus FA01 Focus
        </h3>
        <p class="text-xs md:text-sm text-slate-300">
          Lightweight, responsive, and perfect for learning racecraft and car
          control. Keeping one car means every lap you do on any track
          improves you everywhere.
        </p>
        <ul class="space-y-1.5 text-xs text-slate-300">
          <li class="flex items-start gap-2"><span class="mt-1 h-1 w-1 rounded-full bg-cyan-400"></span> Open-wheel single seater with aero but still forgiving.</li>
          <li class="flex items-start gap-2"><span class="mt-1 h-1 w-1 rounded-full bg-cyan-400"></span> Ideal for both new simracers and seasoned league drivers.</li>
          <li class="flex items-start gap-2"><span class="mt-1 h-1 w-1 rounded-full bg-cyan-400"></span> Shared setups and driving tips in Discord.</li>
        </ul>
        <div class="rounded-xl border border-cyan-500/40 bg-cyan-500/10 p-3 text-[11px] text-cyan-100">
          Tip: keep a dedicated FA01 setup folder per track. Our Discord has
          a setup-sharing channel so you never start from zero.
        </div>
      </div>
    </section>

    <section id="format" class="space-y-6">
      <div class="flex flex-wrap items-end justify-between gap-4">
        <div>
          <h2 class="text-2xl md:text-3xl font-bold tracking-tight">How the rotation works</h2>
          <p class="mt-2 text-sm md:text-base text-slate-300 max-w-2xl">
            One car, many circuits. Every week the track changes based on a
            community vote on Discord. Sessions run daily with practice,
            qualifying, and short races so you can drop in anytime.
          </p>
        </div>
      </div>

      <div class="grid gap-4 md:grid-cols-3 text-xs md:text-sm">
        <div class="rounded-xl border border-slate-800 bg-slate-900/70 p-4 flex flex-col gap-2">
          <div class="text-slate-400">1. Vote</div>
          <div class="font-semibold text-slate-100">Discord track poll</div>
          <p class="text-slate-300">Poll opens mid-week. Suggest tracks, discuss combos, and vote for next week's circuit.</p>
        </div>
        <div class="rounded-xl border border-slate-800 bg-slate-900/70 p-4 flex flex-col gap-2">
          <div class="text-slate-400">2. Race</div>
          <div class="font-semibold text-slate-100">Rotation server</div>
          <p class="text-slate-300">Once the track is set, the server runs that combo all week with practice & race cycles.</p>
        </div>
        <div class="rounded-xl border border-slate-800 bg-slate-900/70 p-4 flex flex-col gap-2">
          <div class="text-slate-400">3. Record</div>
          <div class="font-semibold text-slate-100">Top 10 per track</div>
          <p class="text-slate-300">Fastest clean laps are saved into our track history leaderboard for bragging rights.</p>
        </div>
      </div>
    </section>

    <section id="leaderboard" class="space-y-6">
      <div class="flex flex-wrap items-end justify-between gap-4">
        <div>
          <h2 class="text-2xl md:text-3xl font-bold tracking-tight">Track Leaderboards</h2>
          <p class="mt-2 text-sm md:text-base text-slate-300 max-w-2xl">
            Browse the fastest clean laps set on our AC Elite server. Use the
            filters to view a specific circuit and see who holds the Top 10 in
            the Tatuus FA01.
          </p>
        </div>
        <div class="flex flex-wrap gap-2 text-xs text-slate-300">
          <span class="inline-flex items-center gap-1 rounded-full border border-emerald-400/40 bg-emerald-500/10 px-2 py-1">
            <span class="h-1.5 w-1.5 rounded-full bg-emerald-400"></span>
            Validated laps only
          </span>
          <span class="inline-flex items-center gap-1 rounded-full border border-slate-700 bg-slate-900 px-2 py-1">
            <span class="h-1.5 w-1.5 rounded-full bg-cyan-400"></span>
            Car: Tatuus FA01
          </span>
        </div>
      </div>

      <div class="rounded-2xl border border-slate-800 bg-slate-900/70 p-4 md:p-5 space-y-4">
        <div class="grid gap-4 md:grid-cols-[minmax(0,2.2fr)_minmax(0,3fr)] items-stretch">
          <!-- Track visual card -->
          <div class="relative overflow-hidden rounded-xl border border-slate-800 bg-slate-950/80">
            <div id="track-image" class="h-40 md:h-full bg-cover bg-center transition-transform duration-700 will-change-transform"></div>
            <div class="pointer-events-none absolute inset-0 bg-gradient-to-t from-slate-950/90 via-slate-950/40 to-transparent"></div>
            <div class="absolute inset-x-0 bottom-0 p-3 md:p-4 flex flex-col gap-1 text-xs md:text-sm">
              <div class="flex items-center justify-between gap-2">
                <div>
                  <div id="track-name-label" class="text-sm md:text-base font-semibold text-slate-50"></div>
                  <div id="track-meta" class="text-[11px] text-slate-300"></div>
                </div>
                <div class="flex flex-col items-end gap-1 text-[10px] md:text-[11px]">
                  <span class="inline-flex items-center gap-1 rounded-full border border-amber-400/60 bg-amber-500/20 px-2 py-0.5 text-amber-100">
                    <span class="h-1.5 w-1.5 rounded-full bg-amber-300"></span>
                    Tatuus FA01
                  </span>
                  <span id="track-difficulty" class="text-slate-300"></span>
                </div>
              </div>
            </div>
          </div>

          <!-- Filters + table -->
          <div class="space-y-4">
            <div class="flex flex-wrap gap-3 items-center justify-between">
              <div class="flex flex-wrap gap-3 items-center">
                <label class="text-xs md:text-sm text-slate-300 flex items-center gap-2">
                  Track
                  <select id="track-select" class="bg-slate-950 border border-slate-700 text-xs md:text-sm rounded-lg px-2 py-1 text-slate-100 focus:outline-none focus:border-blue-400">
                  </select>
                </label>

                <label class="text-xs md:text-sm text-slate-300 flex items-center gap-2">
                  Search driver
                  <input id="driver-search" type="text" placeholder="Name or tag" class="bg-slate-950 border border-slate-700 text-xs md:text-sm rounded-lg px-2 py-1 text-slate-100 placeholder-slate-500 focus:outline-none focus:border-blue-400" />
                </label>
              </div>

              <div class="flex flex-wrap gap-2 items-center text-[11px] text-slate-300">
                <span id="selected-track-info" class="text-slate-400"></span>
              </div>
            </div>

            <div class="overflow-x-auto rounded-xl border border-slate-800 bg-slate-950/80 shadow-[0_0_25px_rgba(56,189,248,0.12)]">
              <table class="min-w-full text-xs md:text-sm">
                <thead class="bg-gradient-to-r from-slate-900/90 via-slate-900 to-slate-900/90 text-slate-300">
                  <tr>
                    <th class="px-3 py-2 text-left font-medium">#</th>
                    <th class="px-3 py-2 text-left font-medium">Driver</th>
                    <th class="px-3 py-2 text-left font-medium">Time</th>
                    <th class="px-3 py-2 text-left font-medium">Delta</th>
                    <th class="px-3 py-2 text-left font-medium">Date</th>
                    <th class="px-3 py-2 text-left font-medium">Split</th>
                  </tr>
                </thead>
                <tbody id="leaderboard-body" class="divide-y divide-slate-900/80"></tbody>
              </table>
            </div>

            <div id="leaderboard-empty" class="hidden rounded-lg border border-dashed border-slate-700 bg-slate-950/70 px-4 py-3 text-xs text-slate-400">
              No leaderboard data for this track yet. Be the first to set a time on the AC Elite server.
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="join" class="space-y-6">
      <div class="grid gap-8 md:grid-cols-[minmax(0,3fr)_minmax(0,2fr)] items-center">
        <div class="space-y-4">
          <h2 class="text-2xl md:text-3xl font-bold tracking-tight">Join AC Elite</h2>
          <p class="text-sm md:text-base text-slate-300 max-w-xl">
            All coordination happens on Discord: track voting, event
            announcements, setup sharing, and voice chat during races. Hop in,
            grab the server details, and say hi.
          </p>
          <ul class="space-y-2 text-xs md:text-sm text-slate-300">
            <li class="flex items-start gap-2"><span class="mt-1 h-1 w-1 rounded-full bg-cyan-400"></span> Weekly track poll with suggestions channel.</li>
            <li class="flex items-start gap-2"><span class="mt-1 h-1 w-1 rounded-full bg-cyan-400"></span> Text channels for setups, replays, and race reports.</li>
            <li class="flex items-start gap-2"><span class="mt-1 h-1 w-1 rounded-full bg-cyan-400"></span> Voice lobbies for practice, qualifying, and races.</li>
          </ul>
          <div class="flex flex-wrap gap-3 items-center">
            <a href="#" class="inline-flex items-center justify-center rounded-lg bg-indigo-500 px-4 py-2 text-sm font-semibold text-slate-50 shadow-lg shadow-indigo-500/40 hover:bg-indigo-400 transition-colors">
              Open Discord Invite
            </a>
            <span class="text-xs text-slate-400">Replace this button with your real invite link.</span>
          </div>
        </div>

        <div class="rounded-2xl border border-slate-800 bg-slate-900/70 p-4 md:p-5 space-y-3 text-xs md:text-sm text-slate-300">
          <h3 class="text-sm font-semibold text-slate-100">Server Checklist</h3>
          <ul class="space-y-2">
            <li class="flex items-start gap-2">
              <span class="mt-1 inline-flex h-3 w-3 items-center justify-center rounded-full border border-emerald-400/60 bg-emerald-500/10">
                <span class="h-1.5 w-1.5 rounded-full bg-emerald-400"></span>
              </span>
              <span>
                <span class="font-semibold">Required:</span> Assetto Corsa (PC, Steam) and basic online experience.
              </span>
            </li>
            <li class="flex items-start gap-2">
              <span class="mt-1 inline-flex h-3 w-3 items-center justify-center rounded-full border border-slate-500/60 bg-slate-800/50">
                <span class="h-1.5 w-1.5 rounded-full bg-slate-300"></span>
              </span>
              <span>
                <span class="font-semibold">Recommended:</span> Wheel & pedals and a microphone for voice chat.
              </span>
            </li>
            <li class="flex items-start gap-2">
              <span class="mt-1 inline-flex h-3 w-3 items-center justify-center rounded-full border border-cyan-400/60 bg-cyan-500/10">
                <span class="h-1.5 w-1.5 rounded-full bg-cyan-400"></span>
              </span>
              <span>
                <span class="font-semibold">Nice to have:</span> Content Manager, Custom Shaders Patch, and track mods.
              </span>
            </li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <footer class="border-t border-slate-800 bg-slate-950/95 mt-10">
    <div class="mx-auto max-w-6xl px-4 py-5 flex flex-wrap items-center justify-between gap-4 text-[11px] md:text-xs text-slate-500">
      <div>
        © <span id="year"></span> AC Elite · Community Assetto Corsa racing with the Tatuus FA01.
      </div>
      <div class="flex flex-wrap gap-3 items-center">
        <span>Not affiliated with Kunos Simulazioni.</span>
        <a href="#join" class="text-cyan-400 hover:text-cyan-300">Join the Discord</a>
      </div>
    </div>
  </footer>

  <script>
    const trackData = {
      "Zandvoort": {
        location: "Netherlands",
        layout: "GP",
        lengthKm: 4.259,
        difficulty: "Technical · flowing",
        image: "https://images.pexels.com/photos/1402787/pexels-photo-1402787.jpeg?auto=compress&cs=tinysrgb&w=800",
        laps: [
          { driver: "AC_Storm", time: "1:32.410", date: "2025-02-02", split: "+0.000" },
          { driver: "Nova", time: "1:32.522", date: "2025-02-02", split: "+0.112" },
          { driver: "Helix", time: "1:32.700", date: "2025-02-03", split: "+0.290" },
          { driver: "SlipStream", time: "1:32.845", date: "2025-02-03", split: "+0.435" },
          { driver: "Lumy", time: "1:33.010", date: "2025-02-04", split: "+0.600" },
          { driver: "Chicane", time: "1:33.099", date: "2025-02-04", split: "+0.689" },
          { driver: "Delta", time: "1:33.144", date: "2025-02-05", split: "+0.734" },
          { driver: "Mint", time: "1:33.201", date: "2025-02-05", split: "+0.791" },
          { driver: "GridGhost", time: "1:33.315", date: "2025-02-06", split: "+0.905" },
          { driver: "AC_Rookie", time: "1:33.508", date: "2025-02-06", split: "+1.098" }
        ]
      },
      "Spa-Francorchamps": {
        location: "Belgium",
        layout: "GP",
        lengthKm: 7.004,
        difficulty: "High-speed · demanding",
        image: "https://images.pexels.com/photos/1402788/pexels-photo-1402788.jpeg?auto=compress&cs=tinysrgb&w=800",
        laps: [
          { driver: "Nova", time: "2:15.410", date: "2025-01-18", split: "+0.000" },
          { driver: "AC_Storm", time: "2:15.533", date: "2025-01-18", split: "+0.123" },
          { driver: "Helix", time: "2:15.712", date: "2025-01-19", split: "+0.302" },
          { driver: "SlipStream", time: "2:15.845", date: "2025-01-19", split: "+0.435" },
          { driver: "Lumy", time: "2:16.004", date: "2025-01-20", split: "+0.594" },
          { driver: "Chicane", time: "2:16.122", date: "2025-01-20", split: "+0.712" },
          { driver: "Delta", time: "2:16.240", date: "2025-01-21", split: "+0.830" },
          { driver: "Mint", time: "2:16.305", date: "2025-01-21", split: "+0.895" },
          { driver: "GridGhost", time: "2:16.399", date: "2025-01-22", split: "+0.989" },
          { driver: "AC_Rookie", time: "2:16.755", date: "2025-01-22", split: "+1.345" }
        ]
      },
      "Mugello": {
        location: "Italy",
        layout: "GP",
        lengthKm: 5.245,
        difficulty: "Fast · technical",
        image: "https://images.pexels.com/photos/11538930/pexels-photo-11538930.jpeg?auto=compress&cs=tinysrgb&w=800",
        laps: [
          { driver: "Helix", time: "1:41.922", date: "2024-12-10", split: "+0.000" },
          { driver: "Nova", time: "1:42.004", date: "2024-12-10", split: "+0.082" },
          { driver: "AC_Storm", time: "1:42.030", date: "2024-12-11", split: "+0.108" },
          { driver: "SlipStream", time: "1:42.115", date: "2024-12-11", split: "+0.193" },
          { driver: "Lumy", time: "1:42.408", date: "2024-12-12", split: "+0.486" },
          { driver: "Chicane", time: "1:42.501", date: "2024-12-12", split: "+0.579" },
          { driver: "Delta", time: "1:42.633", date: "2024-12-13", split: "+0.711" },
          { driver: "Mint", time: "1:42.718", date: "2024-12-13", split: "+0.796" },
          { driver: "GridGhost", time: "1:42.851", date: "2024-12-14", split: "+0.929" },
          { driver: "AC_Rookie", time: "1:43.120", date: "2024-12-14", split: "+1.198" }
        ]
      },
      "Silverstone": {
        location: "United Kingdom",
        layout: "GP",
        lengthKm: 5.891,
        difficulty: "Fast · high commitment",
        image: "https://images.pexels.com/photos/1402789/pexels-photo-1402789.jpeg?auto=compress&cs=tinysrgb&w=800",
        laps: [
          { driver: "Nova", time: "1:47.401", date: "2025-01-05", split: "+0.000" },
          { driver: "AC_Storm", time: "1:47.533", date: "2025-01-05", split: "+0.132" },
          { driver: "Helix", time: "1:47.701", date: "2025-01-06", split: "+0.300" },
          { driver: "SlipStream", time: "1:47.814", date: "2025-01-06", split: "+0.413" },
          { driver: "Lumy", time: "1:47.990", date: "2025-01-07", split: "+0.589" },
          { driver: "Chicane", time: "1:48.044", date: "2025-01-07", split: "+0.643" },
          { driver: "Delta", time: "1:48.111", date: "2025-01-08", split: "+0.710" },
          { driver: "Mint", time: "1:48.205", date: "2025-01-08", split: "+0.804" },
          { driver: "GridGhost", time: "1:48.299", date: "2025-01-09", split: "+0.898" },
          { driver: "AC_Rookie", time: "1:48.622", date: "2025-01-09", split: "+1.221" }
        ]
      }
    };

    const trackSelect = document.getElementById('track-select');
    const driverSearchInput = document.getElementById('driver-search');
    const leaderboardBody = document.getElementById('leaderboard-body');
    const leaderboardEmpty = document.getElementById('leaderboard-empty');
    const selectedTrackInfo = document.getElementById('selected-track-info');
    const currentTrackEl = document.getElementById('current-track');
    const currentLayoutEl = document.getElementById('current-layout');
    const trackImageEl = document.getElementById('track-image');
    const trackNameLabelEl = document.getElementById('track-name-label');
    const trackMetaEl = document.getElementById('track-meta');
    const trackDifficultyEl = document.getElementById('track-difficulty');

    for (const trackName of Object.keys(trackData)) {
      const opt = document.createElement('option');
      opt.value = trackName;
      opt.textContent = trackName;
      trackSelect.appendChild(opt);
    }

    const defaultTrack = 'Zandvoort';
    trackSelect.value = defaultTrack;

    function renderTrackInfo(name) {
      const t = trackData[name];
      if (!t) return;
      selectedTrackInfo.textContent = `${name} · ${t.layout} · ${t.lengthKm.toFixed(3)} km · ${t.location} · ${t.difficulty}`;

      if (trackImageEl && t.image) {
        trackImageEl.style.backgroundImage = `url(${t.image})`;
        trackImageEl.style.transform = 'scale(1.04)';
        setTimeout(() => {
          trackImageEl.style.transform = 'scale(1)';
        }, 50);
      }
      if (trackNameLabelEl) {
        trackNameLabelEl.textContent = name;
      }
      if (trackMetaEl) {
        trackMetaEl.textContent = `${t.layout} · ${t.lengthKm.toFixed(3)} km · ${t.location}`;
      }
      if (trackDifficultyEl) {
        trackDifficultyEl.textContent = t.difficulty;
      }

      if (currentTrackEl && currentLayoutEl && name === defaultTrack) {
        currentTrackEl.textContent = name;
        currentLayoutEl.textContent = t.layout;
      }
    }

    function renderLeaderboard() {
      const trackName = trackSelect.value;
      const search = driverSearchInput.value.trim().toLowerCase();
      const track = trackData[trackName];

      leaderboardBody.innerHTML = '';

      if (!track || !track.laps || track.laps.length === 0) {
        leaderboardEmpty.classList.remove('hidden');
        return;
      } else {
        leaderboardEmpty.classList.add('hidden');
      }

      let laps = track.laps;
      if (search) {
        laps = laps.filter(l => l.driver.toLowerCase().includes(search));
      }

      if (laps.length === 0) {
        leaderboardEmpty.textContent = 'No drivers match that search on this track yet.';
        leaderboardEmpty.classList.remove('hidden');
        return;
      } else {
        leaderboardEmpty.textContent = 'No leaderboard data for this track yet. Be the first to set a time on the AC Elite server.';
      }

      laps.forEach((lap, index) => {
        const tr = document.createElement('tr');
        const isP1 = index === 0;

        if (isP1) {
          tr.className = 'bg-gradient-to-r from-emerald-500/10 via-cyan-500/10 to-transparent';
        } else if (index < 3) {
          tr.className = 'bg-slate-900/40';
        }

        const cells = [
          { content: index + 1, extra: index < 3 ? 'font-semibold text-slate-50' : 'text-slate-300' },
          { content: lap.driver, extra: 'font-medium text-slate-100' },
          { content: lap.time, extra: 'font-mono text-emerald-300' },
          { content: lap.split, extra: index === 0 ? 'text-slate-400' : 'text-rose-300 font-mono' },
          { content: lap.date, extra: 'text-slate-400' },
          { content: index < 3 ? 'Split A' : 'Split B', extra: 'text-slate-300' }
        ];

        cells.forEach((cell, i) => {
          const td = document.createElement('td');
          td.className = `px-3 py-2 whitespace-nowrap ${cell.extra}`;
          td.textContent = cell.content;
          tr.appendChild(td);
        });

        leaderboardBody.appendChild(tr);
      });
    }

    trackSelect.addEventListener('change', () => {
      renderTrackInfo(trackSelect.value);
      renderLeaderboard();
    });

    driverSearchInput.addEventListener('input', () => {
      renderLeaderboard();
    });

    renderTrackInfo(defaultTrack);
    renderLeaderboard();

    const yearEl = document.getElementById('year');
    if (yearEl) {
      yearEl.textContent = new Date().getFullYear();
    }

    const nextVoteCountdownEl = document.getElementById('next-vote-countdown');
    if (nextVoteCountdownEl) {
      function formatCountdown() {
        const now = new Date();
        const day = now.getDay();
        const diffToSunday = (7 - day) % 7;
        const target = new Date(now);
        target.setDate(now.getDate() + diffToSunday);
        target.setHours(20, 0, 0, 0);
        if (target < now) {
          target.setDate(target.getDate() + 7);
        }
        const diffMs = target - now;
        const totalSec = Math.floor(diffMs / 1000);
        const days = Math.floor(totalSec / 86400);
        const hours = Math.floor((totalSec % 86400) / 3600);
        const minutes = Math.floor((totalSec % 3600) / 60);
        if (days > 0) {
          return `${days}d ${hours}h ${minutes}m`;
        }
        if (hours > 0) {
          return `${hours}h ${minutes}m`;
        }
        return `${minutes}m`;
      }

      function updateCountdown() {
        nextVoteCountdownEl.textContent = formatCountdown();
      }

      updateCountdown();
      setInterval(updateCountdown, 60000);
    }
  </script>
</body>
</html>
